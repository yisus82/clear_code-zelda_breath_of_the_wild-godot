[gd_scene load_steps=16 format=3 uid="uid://bxasods8ljxk8"]

[ext_resource type="PackedScene" uid="uid://d16vk7h6ftxcy" path="res://scenes/entities/enemies/enemy.tscn" id="1_xgyh7"]
[ext_resource type="PackedScene" uid="uid://bks0ynvp57mq1" path="res://graphics/characters/skeleton warrior/Skeleton_Warrior.glb" id="2_aht4h"]
[ext_resource type="Script" uid="uid://dhii0611if7a5" path="res://scenes/entities/enemies/skeleton_warrior.gd" id="2_dnovq"]
[ext_resource type="PackedScene" uid="uid://cqxi7o0pyi1mt" path="res://graphics/weapons/bone.gltf.glb" id="3_len0i"]
[ext_resource type="PackedScene" uid="uid://dydnnq3ww2uyk" path="res://graphics/weapons/shield.gltf.glb" id="5_1j3fj"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_len0i"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_len0i"]
animation = &"1H_Melee_Attack_Slice_Diagonal"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_dnovq"]
fadein_time = 0.2
fadeout_time = 0.2

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dnovq"]
animation = &"2H_Melee_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0gor6"]
animation = &"Walking_B"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1j3fj"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c8yq2"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h1jgc"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_7u227"]
states/Idle/node = SubResource("AnimationNodeAnimation_dnovq")
states/Idle/position = Vector2(370, 100)
states/Walk/node = SubResource("AnimationNodeAnimation_0gor6")
states/Walk/position = Vector2(589, 100)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_1j3fj"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_c8yq2"), "Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_h1jgc")]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_v6j1j"]
graph_offset = Vector2(-652.7996, 549.121)
nodes/output/position = Vector2(360, 600)
nodes/MoveStateMachine/node = SubResource("AnimationNodeStateMachine_7u227")
nodes/MoveStateMachine/position = Vector2(-260, 620)
nodes/AttackAnimation/node = SubResource("AnimationNodeAnimation_len0i")
nodes/AttackAnimation/position = Vector2(-260, 900)
nodes/AttackOneShot/node = SubResource("AnimationNodeOneShot_dnovq")
nodes/AttackOneShot/position = Vector2(120, 580)
node_connections = [&"output", 0, &"AttackOneShot", &"AttackOneShot", 0, &"MoveStateMachine", &"AttackOneShot", 1, &"AttackAnimation"]

[node name="SkeletonWarrior" instance=ExtResource("1_xgyh7")]
script = ExtResource("2_dnovq")
melee_distance = 2.0

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_len0i")

[node name="Skin" parent="." index="1" instance=ExtResource("2_aht4h")]

[node name="Skeleton3D" parent="Skin/Rig" index="0"]
bones/1/position = Vector3(0, 0.39206383, 0)
bones/1/rotation = Quaternion(-1.11122625e-10, 0.043157753, 2.5724098e-09, 0.9990683)
bones/1/scale = Vector3(0.99999994, 1, 0.99999994)
bones/2/rotation = Quaternion(-6.938893e-18, 7.1054274e-15, 4.93038e-32, 1)
bones/2/scale = Vector3(1.0000001, 1, 1.0000001)
bones/3/rotation = Quaternion(0.046398327, 1.1071469e-08, 0.004016135, 0.99891496)
bones/3/scale = Vector3(1, 0.9999999, 1)
bones/4/rotation = Quaternion(-0.55467385, -0.19844319, -0.73473555, 0.33633482)
bones/4/scale = Vector3(0.9999991, 0.99999905, 0.99999964)
bones/5/rotation = Quaternion(4.7461285e-08, -4.937757e-08, -0.2991361, 0.9542105)
bones/5/scale = Vector3(1.0000004, 0.9999999, 1)
bones/6/rotation = Quaternion(-1.2220568e-10, 6.3255057e-10, 0.026658094, 0.99964464)
bones/6/scale = Vector3(1.0000001, 1, 1)
bones/7/rotation = Quaternion(-0.22725627, -0.25134227, -0.14045878, 0.93029726)
bones/7/scale = Vector3(0.99999994, 0.9999999, 1.0000002)
bones/8/position = Vector3(8.348291e-10, 0.096125126, -0.057500064)
bones/8/rotation = Quaternion(-0.025259208, -0.0006135409, -0.5007622, 0.86521614)
bones/8/scale = Vector3(1.0000001, 1, 1)
bones/9/position = Vector3(-0.21200737, 0.13413215, 7.658628e-08)
bones/9/rotation = Quaternion(-0.62623674, 0.12887873, 0.6789402, 0.36091295)
bones/9/scale = Vector3(0.99999887, 0.99999875, 0.99999964)
bones/10/rotation = Quaternion(3.2131705e-08, 5.5134507e-08, 0.30524194, 0.9522749)
bones/10/scale = Vector3(1.0000006, 0.9999998, 1.0000002)
bones/11/rotation = Quaternion(-3.0093936e-08, -6.587766e-09, -0.026658086, 0.99964464)
bones/11/scale = Vector3(1.0000001, 1.0000001, 1)
bones/12/rotation = Quaternion(-0.1660994, 0.2390854, -0.07152497, 0.9540091)
bones/12/scale = Vector3(0.99999964, 1, 1.0000005)
bones/13/position = Vector3(-8.34822e-10, 0.096125096, -0.057500005)
bones/13/rotation = Quaternion(-6.951719e-10, -3.914639e-09, 0.7071068, 0.7071067)
bones/13/scale = Vector3(1, 1.0000001, 1)
bones/14/rotation = Quaternion(0.067226626, -0.04391859, 0.04702597, 0.9956607)
bones/14/scale = Vector3(1.0000001, 1, 0.99999994)
bones/16/position = Vector3(0.17094508, 0.1135872, 1.5994095e-08)
bones/16/rotation = Quaternion(0.99371517, 0.08371457, 0.07350378, 0.0109185325)
bones/16/scale = Vector3(0.99999994, 0.9999997, 1.0000008)
bones/17/rotation = Quaternion(0.19560215, 6.2622824e-08, -1.3223898e-07, 0.9806833)
bones/17/scale = Vector3(1.0000004, 0.9999999, 0.99999994)
bones/18/rotation = Quaternion(-0.517564, -0.2094967, 0.043654874, 0.82845217)
bones/18/scale = Vector3(0.99999964, 1.0000006, 0.99999946)
bones/19/rotation = Quaternion(0.00011178441, 0.92025787, -0.39131266, -2.5241658e-05)
bones/19/scale = Vector3(0.99999994, 0.99999774, 1.0000024)
bones/20/position = Vector3(-0.17094508, 0.11358732, 1.557549e-08)
bones/20/rotation = Quaternion(0.9973222, -0.029457364, 0.03152927, 0.05904832)
bones/20/scale = Vector3(0.9999999, 0.99999976, 1.0000008)
bones/21/rotation = Quaternion(0.2740081, -6.381352e-08, 1.9276102e-07, 0.9617275)
bones/21/scale = Vector3(0.99999994, 0.99999976, 0.99999994)
bones/22/rotation = Quaternion(-0.5590394, 0.11451276, -0.008627633, 0.82115)
bones/22/scale = Vector3(0.99999976, 1.0000006, 0.9999992)
bones/23/rotation = Quaternion(-8.934892e-05, 0.9202217, -0.3913977, 2.0290998e-05)
bones/23/scale = Vector3(1.0000002, 0.9999979, 1.0000024)
bones/24/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/25/position = Vector3(0.20218208, 0.025990263, 0.20518117)
bones/25/rotation = Quaternion(-0.7071068, -7.052851e-08, -7.0528486e-08, 0.7071068)
bones/26/rotation = Quaternion(9.6579225e-09, 1.7795515e-09, 0.98571914, -0.1683977)
bones/27/position = Vector3(-2.6049376e-08, 0.21343614, -5.171498e-09)
bones/27/rotation = Quaternion(-1.012734e-07, 0.39108434, 0.92035484, -3.3509146e-08)
bones/27/scale = Vector3(1, 0.99999994, 0.9999999)
bones/28/position = Vector3(8.589881e-09, 0.16565004, -2.4096307e-09)
bones/28/scale = Vector3(1, 0.99999994, 1)
bones/29/rotation = Quaternion(1, -2.3313629e-09, 1.9977652e-07, -1.3421114e-15)
bones/29/scale = Vector3(1, 1.0000001, 0.99999994)
bones/30/rotation = Quaternion(4.1633502e-17, -6.740978e-17, -1.9466935e-08, 1)
bones/31/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/32/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/33/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/34/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/34/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/34/scale = Vector3(1.0000001, 1, 0.9999999)
bones/35/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/35/rotation = Quaternion(-0.39108434, -6.739311e-08, -6.2200165e-08, 0.92035484)
bones/35/scale = Vector3(1.0000001, 1, 1)
bones/36/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/36/scale = Vector3(0.99999994, 1, 0.99999994)
bones/37/rotation = Quaternion(1.00614094e-16, -6.7409847e-17, -1.574163e-08, 1)
bones/37/scale = Vector3(1.0000001, 1, 1)
bones/38/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/39/position = Vector3(0.52084064, 0.7314508, 0.037993044)
bones/39/rotation = Quaternion(0.6644741, 0.21105012, 0.7005596, 0.15214548)
bones/39/scale = Vector3(0.9999999, 0.9999999, 0.99999994)
bones/40/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/41/position = Vector3(-0.5108437, 0.7185278, 0.03906007)
bones/41/rotation = Quaternion(-0.7367713, 0.12800163, 0.66068274, 0.065436795)
bones/41/scale = Vector3(1, 1, 0.99999994)

[node name="Skeleton_Warrior_Helmet" parent="Skin/Rig/Skeleton3D" index="0"]
transform = Transform3D(0.99611235, -0.08798988, 0.0042921975, 0.08662243, 0.96943367, -0.22955328, 0.016037375, 0.22903265, 0.9732866, 0.002248373, 1.2018883, 0.01915699)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Skin/Rig/Skeleton3D" index="10"]
transform = Transform3D(-0.275081, -0.09422738, -0.95679235, -0.95866615, 0.10215003, 0.26556104, 0.07271299, 0.9902955, -0.118432365, -0.5227282, 0.5521241, 0.071189314)
bone_name = "handslot.r"
bone_idx = 13

[node name="bone_gltf" parent="Skin/Rig/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource("3_len0i")]
transform = Transform3D(0.9999997, 1.563194e-13, -1.7763568e-14, 0, 1, 0, -9.2370556e-14, 0, 1, 0.040434718, 0.18390402, -0.027881026)

[node name="BoneAttachment3D2" type="BoneAttachment3D" parent="Skin/Rig/Skeleton3D" index="11"]
transform = Transform3D(-0.067300275, -0.07065174, 0.99522793, 0.9977308, -0.0061380253, 0.067034446, 0.0013730178, 0.9974817, 0.07090448, 0.51136947, 0.5862835, 0.10736501)
bone_name = "handslot.l"
bone_idx = 8

[node name="shield_gltf" parent="Skin/Rig/Skeleton3D/BoneAttachment3D2" index="0" instance=ExtResource("5_1j3fj")]
transform = Transform3D(0.99647254, -0.073319286, -0.040831987, 0.0755065, 0.9956338, 0.054885633, 0.036630027, -0.05777537, 0.997658, 0.0747931, 0.18571404, 0.15698409)

[node name="AnimationTree" parent="." index="2"]
root_node = NodePath("../Skin")
tree_root = SubResource("AnimationNodeBlendTree_v6j1j")
anim_player = NodePath("../Skin/AnimationPlayer")
parameters/AttackOneShot/active = false
parameters/AttackOneShot/internal_active = false
parameters/AttackOneShot/request = 0

[connection signal="timeout" from="Timers/AttackTimer" to="." method="_on_attack_timer_timeout"]

[editable path="Skin"]
